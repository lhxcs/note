# 基于神经表示的重建方案



## 体渲染

体渲染考虑光线在物体内部的传播，主要目的是为了解决云、烟、果冻这类非刚性物体的渲染建模。它把气体等物质抽象成粒子群，光线穿过这类物体就是光子和粒子发生碰撞的过程。

整个过程有四种类型：

- absorption
- emission: 粒子自发光
- out-scattering
- in-scattering：其它方向的光打在介质例子上散射到该方向

我们假设光子只和它附近的粒子发生作用，将作用范围限制在小圆柱体之间。

### 吸收

假设圆柱体中粒子的密度为$\rho$, 圆柱体底面积$E$, 粒子都是半径为$r$的球体，每个粒子的投影面积$A=\pi r^2$（每个粒子对光线的遮挡面积）。当圆柱体厚度$\Delta s$很薄时，我们认为粒子之间不会相互重叠。

我们可以得到，圆柱体中所有粒子总数$n=\rho E\Delta s$, 总遮挡面积为$nA$。可以理解为，入射的光线有$\rho E\Delta s A$的概率被遮挡。可以得到方程：
$$
I_o-I_i=-\rho (s)AI(s)ds
$$
即
$$
\frac{dI}{ds}=-\rho(s)AI(s)\equiv -\tau_a(s)I(s)
$$
解得
$$
I(s)=I_0 e^{-\int_0^s \tau_a(t)dt}
$$
记$T(s)=\frac{I_o}{I_i}=e^{-\int _i^o \tau_a(t)dt}$为透射比，表示粒子群某一点的透明度。
